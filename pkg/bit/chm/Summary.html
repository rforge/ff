<html><head><title>Summaries of bit vectors</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="Rchm.css">
</head>
<body>

<table width="100%"><tr><td>Summary(bit)</td><td align="right">R Documentation</td></tr></table><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
<param name="keyword" value="R:   all.bit">
<param name="keyword" value="R:   any.bit">
<param name="keyword" value="R:   min.bit">
<param name="keyword" value="R:   max.bit">
<param name="keyword" value="R:   range.bit">
<param name="keyword" value="R:   sum.bit">
<param name="keyword" value="R:   summary.bit">
<param name="keyword" value="R:   all.bitwhich">
<param name="keyword" value="R:   any.bitwhich">
<param name="keyword" value="R:   min.bitwhich">
<param name="keyword" value="R:   max.bitwhich">
<param name="keyword" value="R:   range.bitwhich">
<param name="keyword" value="R:   sum.bitwhich">
<param name="keyword" value="R:   summary.bitwhich">
<param name="keyword" value="R:   all.ri">
<param name="keyword" value="R:   any.ri">
<param name="keyword" value="R:   min.ri">
<param name="keyword" value="R:   max.ri">
<param name="keyword" value="R:   range.ri">
<param name="keyword" value="R:   sum.ri">
<param name="keyword" value="R:   summary.ri">
<param name="keyword" value=" Summaries of bit vectors">
</object>


<h2>Summaries of bit vectors</h2>


<h3>Description</h3>

<p>
Fast aggregation functions for bit vectors.
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'bit':
all(x, range = NULL, ...)
## S3 method for class 'bit':
any(x, range = NULL, ...)
## S3 method for class 'bit':
min(x, range = NULL, ...)
## S3 method for class 'bit':
max(x, range = NULL, ...)
## S3 method for class 'bit':
range(x, range = NULL, ...)
## S3 method for class 'bit':
sum(x, range = NULL, ...)
## S3 method for class 'bit':
summary(object, range = NULL, ...)
## S3 method for class 'bitwhich':
all(x, ...)
## S3 method for class 'bitwhich':
any(x, ...)
## S3 method for class 'bitwhich':
min(x, ...)
## S3 method for class 'bitwhich':
max(x, ...)
## S3 method for class 'bitwhich':
range(x, ...)
## S3 method for class 'bitwhich':
sum(x, ...)
## S3 method for class 'bitwhich':
summary(object, ...)
## S3 method for class 'ri':
all(x, ...)
## S3 method for class 'ri':
any(x, ...)
## S3 method for class 'ri':
min(x, ...)
## S3 method for class 'ri':
max(x, ...)
## S3 method for class 'ri':
range(x, ...)
## S3 method for class 'ri':
sum(x, ...)
## S3 method for class 'ri':
summary(object, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
an object of class bit or bitwhich </td></tr>
<tr valign="top"><td><code>object</code></td>
<td>
an object of class bit </td></tr>
<tr valign="top"><td><code>range</code></td>
<td>
NULL or a vector with two elements indicating first and last position to be analyzed </td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
formally required but not used </td></tr>
</table>

<h3>Details</h3>

<p>
Bit summaries are quite fast because we use a double loop that fixes each word in a processor register.
Furthermore we break out of looping as soon as possible.
</p>


<h3>Value</h3>

<p>
as expected</p>

<h3>Author(s)</h3>

<p>
Jens Oehlschlägel
</p>


<h3>See Also</h3>

<p>
<code><a href="bit-package.html">bit</a></code>, <code><a onclick="findlink('base', 'all.html')" style="text-decoration: underline; color: blue; cursor: hand">all</a></code>, <code><a onclick="findlink('base', 'any.html')" style="text-decoration: underline; color: blue; cursor: hand">any</a></code>, <code><a onclick="findlink('base', 'Extremes.html')" style="text-decoration: underline; color: blue; cursor: hand">min</a></code>, <code><a onclick="findlink('base', 'Extremes.html')" style="text-decoration: underline; color: blue; cursor: hand">max</a></code>, <code><a onclick="findlink('base', 'range.html')" style="text-decoration: underline; color: blue; cursor: hand">range</a></code>, <code><a onclick="findlink('matlab', 'sum.html')" style="text-decoration: underline; color: blue; cursor: hand">sum</a></code>, <code><a onclick="findlink('Zelig', 'summary.zelig.html')" style="text-decoration: underline; color: blue; cursor: hand">summary</a></code>
</p>


<h3>Examples</h3>

<pre>
  x &lt;- as.bit(c(TRUE, TRUE))
  all(x)
  any(x)
  min(x)
  max(x)
  range(x)
  sum(x)
  summary(x)

  x &lt;- as.bitwhich(c(TRUE, TRUE))
  all(x)
  any(x)
  min(x)
  max(x)
  range(x)
  sum(x)
  summary(x)

 ## Not run: 
    n &lt;- .Machine$integer.max
    x &lt;- !bit(n)
    N &lt;- 1000000L  # batchsize
    B &lt;- n 
    R &lt;- n 

    cat("Batched sum (52.5 sec on Centrino duo)\n")
    system.time({
      s &lt;- 0L
      for (b in 1:B){
        s &lt;- s + sum(x[((b-1L)*N+1L):(b*N)])
      }
      if (R)
        s &lt;- s + sum(x[(n-R+1L):n])
    })

    cat("Batched sum saving repeated memory allocation for the return vector (44.4 sec on Centrino duo)\n")
    system.time({
      s &lt;- 0L
      l &lt;- logical(N)
      for (b in 1:B){
        .Call("R_bit_extract", x, ((b-1L)*N+1L):(b*N), l, PACKAGE = "bit")
        s &lt;- s + sum(l)
      }
      if (R)
        s &lt;- s + sum(x[(n-R+1L):n])
    })

    cat("C-coded sum (3.1 sec on Centrino duo)\n")
    system.time(sum(x))
 ## End(Not run)
</pre>

<script Language="JScript">
function findlink(pkg, fn) {
var Y, link;
Y = location.href.lastIndexOf("\\") + 1;
link = location.href.substring(0, Y);
link = link + "../../" + pkg + "/chtml/" + pkg + ".chm::/" + fn;
location.href = link;
}
</script>


<hr><div align="center">[Package <em>bit</em> version 1.1.0 <a href="00Index.html">Index</a>]</div>

</body></html>
